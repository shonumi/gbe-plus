Wantame Card Scanner Documentation 0.1
December 5th, 2025
Shonumi aka D.S. Baxter

***************************************************
1. Introduction
***************************************************  

On December 14, 2006, Capcom released an action role-playing game called Ryuusei no Rockman in Japan, later renamed Mega Man Star Force in other territories. It was something of a continuation of the Mega Man Battle Network series. Like the earlier Battle Network games, Capcom partnered with Takara Tomy to create an accessory known as the Wave Scanner. It was combination electronic LCD toy and video game peripheral. As a standalone unit, it let users fight viruses with swipeable cards and level up. When attached to the Nintendo DS, the player's level could be used in-game to boost their stats and power up Mega Man by granting an immediate Star Force transformation. During battle, users could swipe cards to enhance their attacks as well.

The peripheral shares some heritage with the Battle Chip Gates on the GBA. Additionally, it served as a template for the Wantame Card Scanner that Capcom and Takara released less than a year later.


***************************************************
2. General Hardware Information
***************************************************

* Features a small LCD screen to display limited graphics.
* Features a small rotating dial that can be pressed in 3 directions.
* Features a 2 face buttons.
* Uses DS microphone plug to transmit data.
* Microphone cable is tucked under the bottom of the unit.
* Uses a separate 3.5mm headphone jack for audio output (unrelated to DS connectivity).
* Uses Slot-2 only for stability. There is no ROM chip or PCB connected to the Slot-2 pins.
* Powered by 3 AAA batteries.
* Compatible with DSi models thanks to microphone cable.
* Uses 12 character barcodes in Code-128 C format.
* Came in 4 versions: Pegasus, Leo, Dragon, and DX (Pegasus).
* Produces samples at approximately 400.005Hz.


***************************************************
3. Data Transmission Protocol
***************************************************

The Wave Scanner translates data into sound pulses via the DS microphone. By reading samples, the game grabs the barcode or level data as individual bits, verifies the integrity of the data, then checks to see if the data is valid for the current game mode. The transmission protocol is very basic and consists of the following 2 parts:

---------------------------------------------------------
Protocol Stage	| Description
---------------------------------------------------------
ACK Signal	| Initial pulses
Barcode/Level	| 32-bits
---------------------------------------------------------

The ACK signal alerts the game to incoming data. It consists of a single HIGH-to-LOW transition of microphone samples. At a minimum, each LOW and HIGH period should be sampled at least 9 times, but less than 16. The following psuedo-code can be used to determine whether a sample from the microphone is LOW or HIGH:

MIC_SAMPLE = READ_DS_MIC()
MIC_SAMPLE = MIC_SAMPLE * 2
MIC_SAMPLE = MIC_SAMPLE AND 0xFF

IF MIC_SAMPLE LESS THAN 0x58
	SAMPLE_TYPE = LOW

ELSE
	SAMPLE_TYPE = HIGH

After sending the ACK Signal, the Wave Scanner sends a continuous stream of 32 bits. Depending on the length of the HIGH part of the the HIGH-to-LOW transition, a "0" or a "1" will be recorded. If the HIGH portion measures at 6 or more samples, this represents a bit whose value is "1", otherwise it represents a bit whose value is "0". Importantly, each HIGH and LOW portion must measure at least 3 samples, and the total duration of the HIGH-to-LOW transition must not exceed 16 samples.

As both barcode data and level data are 32-bits long, the data type being transmitted is generally determined by the top 8 or 6 most significant bits (i.e. Bits 24-31 for level data, and Bits 26-31 for barcode data). Additionally, Ryuusei no Rockman will manually validate the data on its own. The format for each type of data is listed and explained below:

---------------------------------------------------------
Wave Scanner Level Data
---------------------------------------------------------
Bits 00 - 07	| XOR Check Digit
Bits 08 - 14	| Wave Scanner Level (1 - 99)
Bits 15 - 16	| Wave Scanner Type (1, 2, or 3)
Bits 17 - 23	| Constant (0x40)
Bits 24 - 31	| Constant (0x42)
---------------------------------------------------------

The Wave Scanner's level occupies Bits 8 - 14 and has a valid decimal integer range of 1 - 99.

The Wave Scanner Type (Leo, Pegasus, and Dragon) is determined by Bit 15 - 16. A value of "1" indicates a Leo Wave Scanner. A value of "2" represents a Pegasus Wave Scanner. A value of "3" represents a Dragon Wave Scanner.

The upper 15-bits are constant values, 0x42 and 0x40. That is to say, only Bits 23, 25, and 30 are set.

The XOR Check Digit ensures a small amount of data integrity during transmission. It is simply the XOR'd values of the upper 24-bits of data split into 8-bit values. In other words, the XOR Check Digit is calculated as follows:

CHECK DIGIT = (BITS 8 - 15) XOR (BITS 16 - 23) XOR (BITS 24 - 31)

---------------------------------------------------------
Wave Card Barcode Data
---------------------------------------------------------
Bits 00 - 07	| XOR Check Digit
Bits 08 - 13	| 6th Barcode Character Code
Bits 14 - 19	| 5th Barcode Character Code
Bits 20 - 25	| 4th Barcode Character Code
Bits 26 - 31	| Constant (0x10)
---------------------------------------------------------

Although the Wave Scanner's Wave Cards are in Code-128 C format, only use the last 3 character codes identify any specific card. The alphanumeric representation of each barcode for all Wave Cards uses the format 040000XXYYZZ, where only XXYYZZ change. As Code-128 C converts a single character code into 2 alphanumeric characters, XXYYZZ are the 4th, 5th, and 6th character codes of the barcode. These are encoded as individual 6-bit values when transmitted via the Wave Scanner. The upper 6-bits of the 32-bit barcode data is a simple constant value where only Bit 30 is set.


***************************************************
4. Barcodes
***************************************************

Character Cards are special cards that effectively end up being duplicates of other cards in terms of overall effect, and in some cases they even duplicate the actual barcodes. For example, C-02 "Rockman" has the same barcode as S-133 "Recover 200", and the Character Card makes explicit note of this as well. Often, Character Cards will have the same effect as using the "SP" version of a Mega Card. These ones seem to be denoted with the barcode pattern 04000024xxxx.

For whatever reason, the Ice Meteor cards are marked as "BC-xxx" instead of "S-xxx". This may stand for "Battle Card" and is perhaps a typo. It's possible it also stands for "Best Combo", however, outside of glitches, attacks powered up by the Wave Scanner disqualify players from achieving a Best Combo. 

Standard Cards
----------------------------------------------------------------------------------------------------------------------
Card ID	| Barcode	| English Name			| Japanese Name	
----------------------------------------------------------------------------------------------------------------------
S-001	| 040000060019	| Canon				| キャノン
S-002	| 400000060026	| Plus Canon			| プラスキャノン
S-003	| 400000060031	| Heavy Canon			| ヘビーキャノン
S-004	| 040000060044	| Plasma Gun 1			| プラズマガン 1
S-005	| 040000060055	| Plasma Gun 2			| プラズマガン 2
S-006	| 040000060100	| Plasma Gun 3			| プラズマガン 3
S-007	| 040000060107	| Gatling Gun 1			| ガトリング 1
S-008	| 040000060122	| Gatling Gun 2			| ガトリング 2
S-009	| 040000060135	| Gatling Gun 3			| ガトリング 3
S-010	| 040000060136	| Air Spread			| エアスプレッド
S-011	| 040000060154	| Radar Missile 1		| レーダーミサイル 1
S-012	| 040000060160	| Radar Missile 2		| レーダーミサイル 2
S-013	| 040000060210	| Radar Missile 3		| レーダーミサイル 3
S-014	| 040000000212	| Heat Ball 1			| ヒートボール 1
S-015	| 040000000222	| Heat Ball 2			| ヒートボール 2
S-016	| 040000000240	| Heat Ball 3			| ヒートボール 3
BC-017	| 040000060246	| Ice Meteor 1			| アイスメテオ 1
BC-018	| 040000060260	| Ice Meteor 2			| アイスメテオ 2
BC-019	| 040000060262	| Ice Meteor 3			| アイスメテオ 3
S-020	| 040000060317	| Stun Knuckle			| スタンナックル
S-021	| 040000060325	| Poison Knuckle		| ポイズンナックル
S-022	| 040000060330	| Freeze Knuckle		| フリーズナックル
S-023	| 040000060343	| Sword				| ソード
S-024	| 040000060354	| Wide Sword			| ワイドソード
S-025	| 040000060363	| Long Sword			| ロングソード
S-026	| 040000060406	| Blazing Edge			| リュウエンザン
S-027	| 040000060421	| Tidal Edge			| スイゲツザン
S-028	| 040000060424	| Strike Edge			| ライメイザン
S-029	| 040000060435	| Arbo Edge			| タイボクゼン
S-030	| 040000060444	| Break Sabre			| ブレイクサーベル
S-031	| 040000060460	| Ground Wave 1			| グランドウェーブ 1
S-032	| 040000060500	| Ground Wave 2			| グランドウェーブ 2
S-033	| 040000060512	| Ground Wave 3			| グランドウェーブ 3
S-034	| 040000060522	| Jet Attack 1			| ジェットアタック 1
S-035	| 040000060530	| Jet Attack 2			| ジェットアタック 2
S-036	| 040000060546	| Jet Attack 3			| ジェットアタック 3
S-037	| 040000060550	| Power Bomb 1			| パワーボム 1
S-038	| 040000060562	| Power Bomb 2			| パワーボム 2
S-039	| 040000060608	| Power Bomb 3			| パワーボム 3
S-040	| 040000060616	| Ghost Pulse 1			| ゴーストパルス 1
S-041	| 040000060631	| Ghost Pulse 2			| ゴーストパルス 2
S-042	| 040000060644	| Ghost Pulse 3			| ゴーストパルス 3
S-043	| 040000060655	| Fire Ring 1			| モエリング 1
S-044	| 040000060700	| Fire Ring 2			| モエリング 2
S-045	| 040000060707	| Fire Ring 3			| モエリング 3
S-046	| 040000060712	| Time Bomb 1			| カウントボム 1
S-047	| 040000060725	| Time Bomb 2			| カウントボム 2
S-048	| 040000060736	| Time Bomb 3			| カウントボム 3
S-049	| 040000060745	| Fire Bazooka 1		| ファイアバズーカ 1
S-050	| 040000060752	| Fire Bazooka 2		| ファイアバズーカ 2
S-051	| 040000060802	| Fire Bazooka 3		| ファイアバズーカ 3
S-052	| 040000060814	| Tail Burner 1			| テイルバーナー 1
S-053	| 040000060824	| Tail Burner 2			| テイルバーナー 2
S-054	| 040000060832	| Tail Burner 3			| テイルバーナー 3
S-055	| 040000060838	| Wide Wave 1			| ワイドワェーブ 1
S-056	| 040000060852	| Wide Wave 2			| ワイドワェーブ 2
S-057	| 040000060900	| Wide Wave 3			| ワイドワェーブ 3
S-058	| 040000060910	| Chain Bubble 1		| チェインバブル 1
S-059	| 040000060918	| Chain Bubble 2		| チェインバブル 2
S-060	| 040000060924	| Chain Bubble 3		| チェインバブル 3
S-061	| 040000060937	| Green Ink			| グリーンインク
S-062	| 040000060948	| Blue Ink			| ブルーインク
S-063	| 040000060957	| Purple Ink			| パープルインク
S-064	| 040000061000	| Sticky Rain 1			| ネバーレイン 1
S-065	| 040000061015	| Sticky Rain 2			| ネバーレイン 2
S-066	| 040000061028	| Sticky Rain 3			| ネバーレイン 3
S-067	| 040000061039	| Cloud Shot 1			| クラウドシュート 1
S-068	| 040000061048	| Cloud Shot 2			| クラウドシュート 2
S-069	| 040000061055	| Cloud Shot 3			| クラウドシュート 2
S-070	| 040000061060	| Thunder Ball 1		| サンダーボール 1
S-071	| 040000061108	| Thunder Ball 2		| サンダーボール 2
S-072	| 040000061118	| Thunder Ball 3		| サンダーボール 3
S-073	| 040000061126	| Voltic Eye 1			| ボルティックアイ 1
S-074	| 040000061142	| Voltic Eye 2			| ボルティックアイ 2
S-075	| 040000061146	| Voltic Eye 3			| ボルティックアイ 3
S-076	| 040000061158	| Flicker Kick 1		| ホタルゲリ 1
S-077	| 040000061204	| Flicker Kick 2		| ホタルゲリ 2
S-078	| 040000061212	| Flicker Kick 3		| ホタルゲリ 3
S-079	| 040000061228	| Jumbo Hammer 1		| ジャンボハンマー 1
S-080	| 040000061232	| Jumbo Hammer 2		| ジャンボハンマー 2
S-081	| 040000061243	| Jumbo Hammer 3		| ジャンボハンマー 3
S-082	| 040000061252	| Mop Lance 1			| モジャランス 1
S-083	| 040000061305	| Mop Lance 2			| モジャランス 2
S-084	| 040000061310	| Mop Lance 3			| モジャランス 3
S-085	| 040000061323	| Fokx-Fu 1			| ヘンゲノジュツ 1
S-086	| 040000061334	| Fokx-Fu 2			| ヘンゲノジュツ 2
S-087	| 040000061343	| Fokx-Fu 3			| ヘンゲノジュツ 3
S-088	| 040000061350	| Vulcan Seed 1			| バルカンシード 1
S-089	| 040000061401	| Vulcan Seed 2			| バルカンシード 2
S-090	| 040000061404	| Vulcan Seed 3			| バルカンシード 3
S-091	| 004000061414	| Brave Sword 1			| ブレイブソード 1
S-092	| 004000061432	| Brave Sword 2			| ブレイブソード 2
S-093	| 004000061438	| Brave Sword 3			| ブレイブソード 3
S-094	| 040000061452	| Junk Cube 1			| ジャンクキューブ 1
S-095	| 040000061454	| Junk Cube 2			| ジャンクキューブ 2
S-096	| 040000061500	| Junk Cube 3			| ジャンクキューブ 3
S-097	| 040000061518	| Synchro Hook 1		| シンクロフック 1
S-098	| 040000061524	| Synchro Hook 2		| シンクロフック 2
S-099	| 040000061538	| Synchro Hook 3		| シンクロフック 3
S-100	| 040000061540	| Power Song			| パワーソング
S-101	| 040000061550	| Quake Song			| クエイクソング
S-102	| 040000061562	| Trip Song			| トリップソング
S-103	| 040000061612	| Maoi Fall 1			| モアイフォール 1
S-104	| 040000061618	| Maoi Fall 2			| モアイフォール 2
S-105	| 040000061626	| Maoi Fall 3			| モアイフォール 3
S-106	| 040000061636	| Big Axe 1			| ビッグアックス 1
S-107	| 040000061648	| Big Axe 2			| ビッグアックス 2
S-108	| 040000061662	| Big Axe 3			| ビッグアックス 3
S-109	| 040000061704	| Magic Crystal 1		| マジクリスタル 1
S-110	| 040000061712	| Magic Crystal 2		| マジクリスタル 2
S-111	| 040000061723	| Magic Crystal 3		| マジクリスタル 3
S-112	| 040000061736	| Black Hole 1			| ブラックホール 1
S-113	| 040000061751	| Black Hole 2			| ブラックホール 2
S-114	| 040000061758	| Black Hole 3			| ブラックホール 3
S-115	| 040000061803	| Berserk Sword 1		| ベルセルカソード 1
S-116	| 040000061814	| Berserk Sword 2		| ベルセルカソード 2
S-117	| 040000061827	| Berserk Sword 3		| ベルセルカソード 3
S-118	| 040000061832	| Green Burst			| グリーンバースト
S-119	| 040000061839	| Ice Burst			| アイスバースト
S-120	| 040000061848	| Poison Burst			| ポイズンバースト
S-121	| 040000061860	| Typhoon Dance			| タイフーンダンス
S-122	| 040000061910	| Jamming Punch			| ジャミングパンチ
S-123	| 040000061916	| Jamming Machine Gun		| ジャミングマシンガン
S-124	| 040000061924	| Whistle			| ホイッスル
S-125	| 040000061934	| Bombalizer			| ボムライザー
S-126	| 040000061946	| Anti Sword			| シラハドリ
S-127	| 040000061960	| Recover 10			| リカバリー 10
S-128	| 040000062002	| Recover 30			| リカバリー 30
S-129	| 040000062010	| Recover 50			| リカバリー 50
S-130	| 040000062020	| Recover 80			| リカバリー 80
S-131	| 040000062033	| Recover 120			| リカバリー 120
S-132	| 040000062048	| Recover 150			| リカバリー 150
S-133	| 040000062055	| Recover 200			| リカバリー 200
S-134	| 040000062100	| Recover 300			| リカバリー 300
S-135	| 040000062111	| Barrier			| バリア
S-136	| 040000062118	| Barrier 100			| バリア 100
S-137	| 040000062129	| Barrier 200			| バリア 200
S-138	| 040000062136	| Aura				| オーラ
S-139	| 040000062155	| Invisible			| インビジブル
S-140	| 040000062156	| Spirit Fury			| セイレイノイカリ
S-141	| 040000062206	| Poison Apple			| ドクリンゴ
S-142	| 040000062212	| Double Cross			| ウラギリノススメ
S-143	| 040000062230	| Giga Mine			| ギガマイン
S-144	| 040000062240	| Grass Stage			| クサムラステージ
S-145	| 040000062242	| Ice Stage			| アイスステージ
S-146	| 040000062256	| Gravity Stage			| グラビティステージ	
S-147	| 040000062262	| Guard Null Stage		| ゼシエンステージ
S-148	| 040000062316	| Holy Panel			| ホーリーパネル
S-149	| 040000062326	| Paralyze Plus			| マビプラス
S-150	| 040000062328	| Attack+10			| アタック＋10
----------------------------------------------------------------------------------------------------------------------


Mega Cards
----------------------------------------------------------------------------------------------------------------------
Card ID	| Barcode	| English Name			| Japanese Name	
----------------------------------------------------------------------------------------------------------------------
M-181	| 040000062826	| Taurus Fire			| オックスファイア
M-182	| 040000062836	| Taurus Fire EX		| オックスファイア EX
M-183	| 040000062838	| Taurus Fire SP		| オックスファイア SP
M-184	| 040000062852	| Cygnus Wing			| キグナスウィング
M-185	| 040000062858	| Cygnus Wing EX		| キグナスウィング EX
M-186	| 040000062912	| Cygnus Wing SP		| キグナスウィング SP
M-187	| 040000062922	| Harp Note			| ハープ・ノート
M-188	| 040000062924	| Harp Note EX			| ハープ・ノート EX
M-189	| 040000062938	| Harp Note SP			| ハープ・ノート SP
M-190	| 040000062944	| Libra Scales			| リブラ・バランス
M-191	| 040000062963	| Libra Scales EX		| リブラ・バランス EX
M-192	| 040000063000	| Libra Scales SP		| リブラ・バランス SP
M-193	| 040000063013	| Queen Ophiuca			| オヒュカスクイーン
M-194	| 040000063028	| Queen Ophiuca EX		| オヒュカスクイーン EX
M-195	| 040000063056	| Queen Ophiuca SP		| オヒュカスクイーン SP
M-196	| 040000063044	| Gemini Spark			| ジェミニスパーク
M-197	| 040000063055	| Gemini Spark EX		| ジェミニスパーク EX
M-198	| 040000063104	| Gemini Spark SP		| ジェミニスパーク SP
M-199	| 040000063109	| Cancer Bubble			| キャンサバブル
M-200	| 040000063116	| Cancer Bubble EX		| キャンサバブル EX
M-201	| 040000063127	| Cancer Bubble SP		| キャンサバブル SP
M-202	| 040000063140	| Wolf Woods			| ウルフフォレスト
M-203	| 040000063155	| Wolf Woods EX			| ウルフフォレスト EX
M-204	| 040000063162	| Wolf Woods SP			| ウルフフォレスト SP
M-205	| 040000063207	| Crown Thunder			| クラウンサンダー
M-206	| 040000063218	| Crown Thunder EX		| クラウンサンダー EX
M-207	| 040000063231	| Crown Thunder SP		| クラウンサンダー SP
M-208	| 040000063236	| Pegasus Magic			| ペガサスマジック
M-209	| 040000063243	| Pegasus Magic EX		| ペガサスマジック EX
M-210	| 040000063252	| Pegasus Magic SP		| ペガサスマジック SP
M-211	| 040000063301	| Leo Kingdom			| レオキングダム
M-212	| 040000063316	| Leo Kingdom EX		| レオキングダム EX
M-213	| 040000063323	| Leo Kingdom SP		| レオキングダム SP
M-214	| 040000063332	| Dragon Sky			| ドラゴンスカイ
M-215	| 040000063343	| Dragon Sky EX			| ドラゴンスカイ EX
M-216	| 040000063356	| Dragon Sky SP			| ドラゴンスカイ SP
----------------------------------------------------------------------------------------------------------------------


Giga Cards
----------------------------------------------------------------------------------------------------------------------
Card ID	| Barcode	| English Name			| Japanese Name	
----------------------------------------------------------------------------------------------------------------------
G-231	| 040000063613	| Pegasus Magic GX		| ペガサスマジック GX
G-232	| 040000063622	| Aqua+50			| アクア+50
G-233	| 040000063633	| Ox Tackle			| オックスタックル
G-234	| 040000063636	| Break Time Bomb		| ブレイクカウントボム
G-235	| 040000063651	| Dark Sword			| ダークソード
G-236	| 040000063658	| Leo Kingdom GX		| レオキングダム GX
G-237	| 040000063703	| Fire+50			| ファイア+50
G-238	| 040000063714	| Gemini Thunder		| ジェミニサンダー
G-239	| 040000063727	| Darkness Hole			| ダークネスホール
G-240	| 040000063732	| Life Aura			| ドリームオーラ
G-241	| 040000063751	| Dragon Sky GX			| ドラゴンスカイ GX
G-242	| 040000063752	| Wood+50			| ウッド+50
G-243	| 040000063801	| Gorgon Eye			| ゴルゴンアイ
G-244	| 040000063816	| Destroy Missle		| デストロイミサイル
G-245	| 040000063823	| Poison Pharoah		| ポイズンファラオ
G-247	| 040000063843	| Andromeda			| アンドロメダ
----------------------------------------------------------------------------------------------------------------------


Character Cards
----------------------------------------------------------------------------------------------------------------------
Card ID	| Barcode	| English Name			| Japanese Name	
----------------------------------------------------------------------------------------------------------------------
C-01	| 040000060031	| Rockman			| ロックマン
C-02	| 040000062055	| Rockman			| ロックマン
C-06	| 040000063236	| Ice Pegasus			| アイスペガサス
C-09	| 040000240020	| Taurus Fire			| オックスファイア
C-10	| 040000240027	| Cygnus Wing			| キグナスウィング
C-11	| 040000240032	| Harp Note			| ハープ・ノート
C-12	| 040000240045	| Libra Scales			| リブラ・バランス
C-13	| 040000240056	| Queen Ophiuca			| オヒュカス・クイーン
C-14	| 040000240101	| Gemini Spark			| ジェミ・スパーク
C-15	| 040000240108	| Cancer Bubble			| キャンサ・バブル
C-16	| 040000240123	| Wolf Woods			| ウルフ・フォレスト
C-17	| 040000240136	| Crown Thunder			| クラウン・サンダー
----------------------------------------------------------------------------------------------------------------------
